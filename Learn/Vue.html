<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue | Grow</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="shortcut icon" type="image/x-icon" href="./favorite.ico">
    <meta name="description" content="Vuepress blog">
    <link rel="preload" href="/grow-pro/assets/css/0.styles.ff741fdf.css" as="style"><link rel="preload" href="/grow-pro/assets/js/app.6ffc7541.js" as="script"><link rel="preload" href="/grow-pro/assets/js/2.d587827d.js" as="script"><link rel="preload" href="/grow-pro/assets/js/10.d880a209.js" as="script"><link rel="prefetch" href="/grow-pro/assets/js/11.5f6043b9.js"><link rel="prefetch" href="/grow-pro/assets/js/12.a458c2d0.js"><link rel="prefetch" href="/grow-pro/assets/js/13.a73c1e16.js"><link rel="prefetch" href="/grow-pro/assets/js/14.1094f6da.js"><link rel="prefetch" href="/grow-pro/assets/js/15.1792dde8.js"><link rel="prefetch" href="/grow-pro/assets/js/16.80e4c64a.js"><link rel="prefetch" href="/grow-pro/assets/js/17.b9051b86.js"><link rel="prefetch" href="/grow-pro/assets/js/18.6cf5bea3.js"><link rel="prefetch" href="/grow-pro/assets/js/19.b2c73de6.js"><link rel="prefetch" href="/grow-pro/assets/js/20.7788614a.js"><link rel="prefetch" href="/grow-pro/assets/js/21.efe0dcb7.js"><link rel="prefetch" href="/grow-pro/assets/js/22.a8696bf8.js"><link rel="prefetch" href="/grow-pro/assets/js/23.6902d694.js"><link rel="prefetch" href="/grow-pro/assets/js/24.1b1592a9.js"><link rel="prefetch" href="/grow-pro/assets/js/25.b3d8a4aa.js"><link rel="prefetch" href="/grow-pro/assets/js/26.b3435ff0.js"><link rel="prefetch" href="/grow-pro/assets/js/27.b69152b4.js"><link rel="prefetch" href="/grow-pro/assets/js/28.b06054b6.js"><link rel="prefetch" href="/grow-pro/assets/js/29.a5bdc6e9.js"><link rel="prefetch" href="/grow-pro/assets/js/3.8793c774.js"><link rel="prefetch" href="/grow-pro/assets/js/30.c01e36cb.js"><link rel="prefetch" href="/grow-pro/assets/js/31.7ec4de84.js"><link rel="prefetch" href="/grow-pro/assets/js/32.c3dda9c4.js"><link rel="prefetch" href="/grow-pro/assets/js/33.3852b17d.js"><link rel="prefetch" href="/grow-pro/assets/js/34.b6b5c5fb.js"><link rel="prefetch" href="/grow-pro/assets/js/35.7cc5f650.js"><link rel="prefetch" href="/grow-pro/assets/js/36.8b5378e0.js"><link rel="prefetch" href="/grow-pro/assets/js/37.766c1f24.js"><link rel="prefetch" href="/grow-pro/assets/js/4.2a59d3b3.js"><link rel="prefetch" href="/grow-pro/assets/js/5.e100d029.js"><link rel="prefetch" href="/grow-pro/assets/js/6.ec12bce6.js"><link rel="prefetch" href="/grow-pro/assets/js/7.4ad449a3.js"><link rel="prefetch" href="/grow-pro/assets/js/8.2dcb3418.js"><link rel="prefetch" href="/grow-pro/assets/js/9.61ea6a8a.js">
    <link rel="stylesheet" href="/grow-pro/assets/css/0.styles.ff741fdf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/grow-pro/" class="home-link router-link-active"><img src="./image/logo.jpg" alt="Grow" class="logo"> <span class="site-name can-hide">Grow</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/grow-pro/Learn.html" class="nav-link">
  Learn
</a></div><div class="nav-item"><a href="/grow-pro/Work.html" class="nav-link">
  Work
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/grow-pro/Learn.html" class="nav-link">
  Learn
</a></div><div class="nav-item"><a href="/grow-pro/Work.html" class="nav-link">
  Work
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Learn</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/grow-pro/Learn/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/grow-pro/Learn/Git.html" class="sidebar-link">Git</a></li><li><a href="/grow-pro/Learn/JavaSrcipt.html" class="sidebar-link">JavaSrcipt</a></li><li><a href="/grow-pro/Learn/React.html" class="sidebar-link">React</a></li><li><a href="/grow-pro/Learn/TypeSrcipt.html" class="sidebar-link">TypeSrcipt</a></li><li><a href="/grow-pro/Learn/Vue.html" aria-current="page" class="active sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#基础" class="sidebar-link">基础</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#watch" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#computed" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#组件传值" class="sidebar-link">组件传值</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#自定义指令" class="sidebar-link">自定义指令</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#插槽-slot" class="sidebar-link">插槽 slot</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#动态组件" class="sidebar-link">动态组件</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#混入mixin" class="sidebar-link">混入mixin</a></li><li class="sidebar-sub-header"><a href="/grow-pro/Learn/Vue.html#函数式组件" class="sidebar-link">函数式组件</a></li></ul></li><li><a href="/grow-pro/Learn/Vue3.html" class="sidebar-link">Vue3.0</a></li><li><a href="/grow-pro/Learn/Webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/grow-pro/Learn/小程序.html" class="sidebar-link">小程序</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Work</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目记录</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h1> <h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <p><strong>多看文档，每看一次就进步一次</strong></p> <p>官方文档 <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer">传送门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>自己写的脑图 <a href="https://www.processon.com/mindmap/5e5f837ce4b097b727507936" target="_blank" rel="noopener noreferrer">传送门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>熟记 <code>生命周期</code>，<code>watch</code>，<code>computed</code>，<code>filter</code>，<code>v-xxx指令</code>，<code>事件修饰符</code> 等等</p></blockquote> <ul><li><p>使用技巧：</p> <ul><li>快速还原data属性(例如：重置表单内容)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 访问未被修改的formData</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>formData 

<span class="token comment">// 访问现在的formData</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$data<span class="token punctuation">.</span>formData

<span class="token comment">// 还原formData</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$data<span class="token punctuation">.</span>formData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>formData
</code></pre></div></li></ul> <h2 id="watch"><a href="#watch" class="header-anchor">#</a> watch</h2> <ul><li>应用场景：在多层Tabs嵌套时，每当Tabs切换就渲染不同的组件、不同的数据表格，这时就可以使用watch来监听Tabs切换时的ID变化，根据ID变化来请求不同的数据。</li></ul> <blockquote><p><code>immediate</code>: 即使监视的对象<code>id</code>没有变化也会触发回调函数<code>handler</code></p> <p><code>deep</code>：深度监听，监听的是一个对象，即使是对象中深层嵌套的数据发生变化也会触发回调处理</p> <p><code>handler(newVla,oldVla)</code>：新值：<code>newVal</code> 旧值：<code>oldVla</code> 根据业务逻辑来对比处理</p></blockquote> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-js"><code>  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// id变化 说明tabs被切换了</span>
    id<span class="token operator">:</span> <span class="token punctuation">{</span>
      immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      deep<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVla<span class="token punctuation">,</span>oldVla</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 监听id发生变化的回调函数，处理事件请求新数据</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="computed"><a href="#computed" class="header-anchor">#</a> computed</h2> <div class="language-js extra-class"><pre class="language-js"><code>building ing <span class="token operator">...</span>
</code></pre></div><h2 id="组件传值"><a href="#组件传值" class="header-anchor">#</a> 组件传值</h2> <ol><li>父传子 <code>v-bind:</code> +  <code>props</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父组件引用子组件，在子组件标签上使用:属性绑定</span>
<span class="token operator">&lt;</span>son <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">'data'</span><span class="token operator">&gt;</span>

<span class="token comment">// 子组件使用props接收父组件传递的数据，注意props与data评级，在页面中通过this.data引用，注意数据不可重复命名</span>
props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 上下两种写法都可以</span>
props<span class="token operator">:</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> Array<span class="token punctuation">,</span>  <span class="token comment">// 指定数据类型</span>
  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// 默认值</span>
  required<span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token comment">// 是否毕传</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>父传子 <code>$ref</code> + <code>$refs</code> 引用</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 子组件标签上添加ref属性</span>
<span class="token operator">&lt;</span>son ref<span class="token operator">=</span><span class="token string">'son'</span><span class="token operator">&gt;</span>

<span class="token comment">// 父组件通过$refs获取子组件引用可以直接调用子组件数据与方法，但是官方不建议这么使用</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>son<span class="token punctuation">.</span>$parent <span class="token operator">===</span> <span class="token keyword">this</span>  <span class="token comment">// true</span>
</code></pre></div><ol start="3"><li>父子引用 <code>$parent</code> <code>$children</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父组件通过$children可以获取子组件实例</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$children <span class="token comment">// 返回一个数组</span>

<span class="token comment">// 子组件通过$parent可以获取父组件实例</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>data<span class="token operator">...</span> 
</code></pre></div><ol start="4"><li>子父事件通信 <code>$emit</code> + <code>@eventName</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 子组件派发事件，父组件监听事件，当派发事件触发时传递数据并且执行父组件监听回调</span>
<span class="token operator">&lt;</span>input @change<span class="token operator">=</span><span class="token string">'sonEvent'</span><span class="token operator">&gt;</span>

methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">sonEvent</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'inputChange'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件监听事件并且处理事件传递的数据</span>
<span class="token operator">&lt;</span>son @inputChange<span class="token operator">=</span><span class="token string">'inputChange'</span><span class="token operator">&gt;</span>

methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">inputChange</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li>事件总线 <code>$bus</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 注意要将bus.js文件导出与引入</span>
<span class="token comment">// 导入vue 在vue的原型上再实例化一个vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 使用$bus派发事件与传递数据</span>
$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'eventName'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>

<span class="token comment">// 使用$bus监听事件与接收数据</span>
$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'eventName'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token string">'事件处理'</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令</h2> <div class="language-js extra-class"><pre class="language-js"><code>building ing <span class="token operator">...</span>
</code></pre></div><h2 id="插槽-slot"><a href="#插槽-slot" class="header-anchor">#</a> 插槽 <code>slot</code></h2> <blockquote><p>应用场景：在构建可复用组件时，往往预想不到未来的业务需求如何变更，这时候就可以使用<code>slot</code>插槽，给未来可能需要做的事保留一个位置，即便这件事未来没有发生也不影响。</p> <p>简单来说：挖一个坑，等着东西往里填</p></blockquote> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 例如：多个表共用的添加按钮，根据不同的表，渲染不同的按钮文本 【添加一级】【添加二级】 ... --&gt;</span>
<span class="token comment">&lt;!-- 添加name属性为具名插槽 ，插槽内有内容为默认内容，如果插槽未激活则显示默认内容 --&gt;</span>
<span class="token comment">&lt;!-- user.name变量为button组件中的原始变量 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>add<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>addBtn<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    添加一级{{user.name}} 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 使用 --&gt;</span>
<span class="token comment">&lt;!-- # 为缩写，必须为具名插槽，也推荐使用具名插槽，提高代码阅读性 ，注意 # 缩写语法必须有name属性时才可以使用--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#addBtn</span><span class="token punctuation">&gt;</span></span>
    添加二级
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>add-button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>作用域插槽</p></blockquote> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 此时想在父组件中通过插槽直接修改&lt;add-button&gt;子组件中的数据是无法修改的，因为此时的作用域为父级组件，无法访问到{{user}}变量 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#addBtn</span><span class="token punctuation">&gt;</span></span>
    添加二级{{user.age}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>add-button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 想要实现上面的效果，我们可以这样写：在预留插槽位置的时候将数据传递到父作用，类似于props传值 :user='user' --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>add<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>  <span class="token attr-name">:user</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>user<span class="token punctuation">'</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>addBtn<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
     添加一级{{user.name}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 使用 --&gt;</span>
<span class="token comment">&lt;!-- 注意：{user}使用的是解构赋值，本质上传递的是一个对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span>  <span class="token attr-name">#addBtn</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{user}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    添加二级{{user.age}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>add-button</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h2> <blockquote><p>应用场景：Tabs切换，不同的tabs代表不同的数据，这时就可以使用<code>动态组件 :is</code>配合<code>keep-alive</code>
注意：<code>components</code> 为一个对象， 当 <code>:is='pic_banner'</code> 时 ，实际上是执行了 <code>() =&gt; import(&quot;./components/pic_banner&quot;)</code> 导入<code>pic_banner</code>组件</p></blockquote> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 被keep-alive包裹的组件不会被销毁，而是会被缓存，当重复切换tabs时就不会重复的渲染 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>current<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 上方的 is 为vue的保留字 ，个人理解为 是否:   [是否:组件A] [是否:组件B] 根据current的值来渲染对应的组件</span>
<span class="token comment">// 配合ES6语法 导入组件</span>
components<span class="token operator">:</span> <span class="token punctuation">{</span>
  pic_banner<span class="token operator">:</span> <span class="token punctuation">,</span>
  <span class="token function-variable function">txt_banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./components/txt_banner&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    current<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>  <span class="token comment">// 可以设置默认组件 也可以不设置，一般情况下是根据tabs的id或类型来赋值切换</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在 watch 或 methods 中监听id 根据id变化来渲染pic_banenr 还是txt_banenr</span>
watch<span class="token operator">:</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">=</span> id <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token string">'pic_banner'</span> <span class="token operator">:</span> <span class="token string">'txt_banner'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="混入mixin"><a href="#混入mixin" class="header-anchor">#</a> 混入<code>mixin</code></h2> <blockquote><p>将通用的属性(分页的page，total等等)，方法(切换分页，切换分页数据显示数量等等)，抽离成一个单独的JS文件，在需要复用的组件中直接混入。混入的最主要作用是：提高代码/组件的复用性</p></blockquote> <p><strong>无论是<code>data</code>，<code>methods</code>，<code>生命周期钩子</code>都可以进行混入操作。注意：数据与方法出现命名冲突以组件中为准，生命周期钩子都会执行</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// page.js 暴露</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handlerPageChange</span><span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> page
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">// 在组件中使用混入</span>
<span class="token comment">// 导入</span>
<span class="token keyword">import</span> pageMixins <span class="token keyword">from</span> <span class="token string">'./page.js'</span>

<span class="token comment">// 混入，注意mixins与data平级 ，</span>
mixins<span class="token operator">:</span> <span class="token punctuation">[</span>pageMixins<span class="token punctuation">]</span>

<span class="token comment">// data中没有定义page与total属性，经过mixins混入后已经用友了page与total属性并且可以正常赋值使用</span>
<span class="token comment">// 并且不会影响其他同样使用page.js混入的page与total属性</span>
data <span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

</code></pre></div><blockquote><p>应用场景：获取七牛云token 。 将获取七牛云token的方法混入到全局<code>created</code>中，这样就不用每次都重写了</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 创建一个混入对象 mixinQN.js</span>
<span class="token keyword">import</span> getQiniu <span class="token keyword">from</span> <span class="token string">'@/api/data.js'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> qiniuToken <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getQiniu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>qiniuToken <span class="token operator">=</span> data<span class="token punctuation">.</span>token
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. 使用混入对象 qiniuToken  组件会自动执行混入的created生命周期钩子， 如果命名冲突由组件的优先执行</span>
<span class="token comment">//    执行created钩子后， 会自动将token保存到data中的qiniuToken</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> qiniuToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mixinQn.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  mixins<span class="token operator">:</span><span class="token punctuation">[</span>qiniuToken<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      qiniuToken<span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="函数式组件"><a href="#函数式组件" class="header-anchor">#</a> 函数式组件</h2> <p>123123</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/grow-pro/Learn/TypeSrcipt.html" class="prev">
        TypeSrcipt
      </a></span> <span class="next"><a href="/grow-pro/Learn/Vue3.html">
        Vue3.0
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/grow-pro/assets/js/app.6ffc7541.js" defer></script><script src="/grow-pro/assets/js/2.d587827d.js" defer></script><script src="/grow-pro/assets/js/10.d880a209.js" defer></script>
  </body>
</html>
